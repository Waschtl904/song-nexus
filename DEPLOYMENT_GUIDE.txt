
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘              SONG-NEXUS v6.0 â€“ COMPLETE PRODUCTION STACK                 â•‘
â•‘                    Frontend + Backend + Paypal Integration                â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
ğŸ“¦ COMPLETE FILE STRUCTURE
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

song-nexus-v6.0/
â”œâ”€â”€ frontend/
â”‚   â””â”€â”€ song-nexus-v6.0-frontend.html          âœ¨ NEW - Frontend
â”œâ”€â”€ backend/
â”‚   â”œâ”€â”€ package.json
â”‚   â”œâ”€â”€ server.js
â”‚   â”œâ”€â”€ .env                                   (fill in your secrets!)
â”‚   â”œâ”€â”€ routes/
â”‚   â”‚   â”œâ”€â”€ auth.js
â”‚   â”‚   â”œâ”€â”€ payments.js
â”‚   â”‚   â”œâ”€â”€ users.js
â”‚   â”‚   â””â”€â”€ tracks.js
â”‚   â”œâ”€â”€ db/
â”‚   â”‚   â””â”€â”€ schema.sql
â”‚   â”œâ”€â”€ docker-compose.yml
â”‚   â””â”€â”€ Dockerfile
â”œâ”€â”€ README.md
â””â”€â”€ DEPLOYMENT.md

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
ğŸš€ DEPLOYMENT WORKFLOW
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

SCHRITT 1: Backend Setup
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
cd backend
npm install
cp .env.example .env
# Edit .env:
#   PAYPAL_CLIENT_ID=YOUR_ID
#   PAYPAL_SECRET=YOUR_SECRET
#   DB_PASSWORD=STRONG_PASSWORD

SCHRITT 2: Database Setup
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
# Option A: Docker
docker-compose up -d

# Option B: Manual PostgreSQL
psql -U postgres -c "CREATE DATABASE song_nexus_db;"
psql -U postgres -d song_nexus_db -f db/schema.sql

SCHRITT 3: Start Backend
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
npm run dev

# Output: âœ… SONG-NEXUS v6.0 Backend running on http://localhost:3000

SCHRITT 4: Frontend Setup
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
# Open frontend HTML in browser
# - Update API_BASE if needed
# - Test with fake credentials first
# - Then authenticate with backend

SCHRITT 5: Test Complete Flow
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
1. Open frontend HTML
2. Register new account
3. Login
4. View dashboard
5. Click "BUY TRACK"
6. Complete Paypal payment (use sandbox test cards)
7. Check database: SELECT * FROM orders;

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
ğŸ” SECURITY CHECKLIST
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

âœ… Backend:
   â–¡ JWT tokens stored securely
   â–¡ Passwords hashed with bcrypt
   â–¡ SQL injection prevented (parameterized queries)
   â–¡ CORS configured
   â–¡ HTTPS enforced (production)
   â–¡ Rate limiting enabled
   â–¡ Secrets in .env (NEVER committed)
   â–¡ Paypal keys server-side only
   â–¡ Audit logging enabled
   â–¡ Error messages don't leak data

âœ… Frontend:
   â–¡ Input validation before send
   â–¡ Tokens stored safely
   â–¡ API errors handled gracefully
   â–¡ Paypal SDK loaded from official source
   â–¡ HTTPS in production
   â–¡ No hardcoded secrets
   â–¡ XSS protected (textContent, not innerHTML)

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
ğŸ’° PAYPAL TESTING
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

1. Create Paypal Business Account:
   https://developer.paypal.com

2. Get Sandbox Credentials:
   - Client ID: AXxxxxxxxxxxxx
   - Secret: EC_xxxxxxxxxxxx

3. Add to .env:
   PAYPAL_CLIENT_ID=AXxxxxxxxxxxxx
   PAYPAL_SECRET=EC_xxxxxxxxxxxx
   PAYPAL_MODE=sandbox

4. Test with Sandbox Card:
   - Number: 4111 1111 1111 1111
   - Expiry: Any future date
   - CVV: 123

5. After Testing, Switch to LIVE:
   - Get Live credentials from Paypal
   - Update .env with live keys
   - Set PAYPAL_MODE=live
   - Use HTTPS
   - Enable security headers

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
ğŸ“Š FEATURES IMPLEMENTED
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

âœ¨ AUTHENTICATION:
   âœ“ User registration
   âœ“ Email validation
   âœ“ Password hashing (bcrypt)
   âœ“ JWT tokens
   âœ“ Login/Logout
   âœ“ Auto-logout on token expire

âœ¨ PAYMENT:
   âœ“ Paypal Checkout Integration
   âœ“ Secure order creation
   âœ“ Payment capture & verification
   âœ“ Transaction logging
   âœ“ Order status tracking

âœ¨ USER DASHBOARD:
   âœ“ Profile information
   âœ“ Statistics (plays, spending)
   âœ“ Order history
   âœ“ Theme toggle

âœ¨ SECURITY:
   âœ“ JWT Authentication
   âœ“ Rate limiting
   âœ“ CORS protection
   âœ“ XSS prevention
   âœ“ SQL injection prevention
   âœ“ CSRF tokens
   âœ“ Audit logging
   âœ“ Secure headers

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
ğŸ› TROUBLESHOOTING
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

âŒ "Cannot GET /api/auth/register"
   â†’ Backend nicht gestartet
   â†’ npm run dev in backend/ Ordner
   â†’ Check if running on port 3000

âŒ "Database connection error"
   â†’ PostgreSQL nicht gestartet
   â†’ Check .env credentials
   â†’ Run schema.sql

âŒ "Paypal SDK not loaded"
   â†’ Client ID nicht konfiguriert
   â†’ Script tag in HTML prÃ¼fen
   â†’ Browser console fÃ¼r errors checken

âŒ "401 Unauthorized"
   â†’ Token abgelaufen
   â†’ Neu einloggen
   â†’ Check JWT_SECRET in .env

âŒ "CORS error"
   â†’ Frontend URL nicht in ALLOWED_ORIGINS
   â†’ .env in backend anpassen
   â†’ Refresh frontend

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
ğŸ“ˆ PRODUCTION DEPLOYMENT
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

1. Get SSL Certificate (Let's Encrypt):
   certbot certonly -d yourdomain.com

2. Setup Nginx:
   - Proxy requests to Node.js
   - Serve HTTPS
   - Compress responses
   - Cache static assets

3. Deploy Backend:
   docker-compose -f docker-compose.prod.yml up -d

4. Deploy Frontend:
   - Upload HTML to CDN
   - Or serve via Nginx

5. Monitor:
   - Check logs
   - Monitor database
   - Track Paypal transactions
   - Alert on errors

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
ğŸ‰ SUCCESS METRICS
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

âœ… PERFORMANCE:
   â€¢ Frontend load: <1 second
   â€¢ API response: <200ms
   â€¢ Database query: <100ms
   â€¢ Paypal checkout: <5 seconds

âœ… SECURITY:
   â€¢ Zero data leaks
   â€¢ All secrets encrypted
   â€¢ HTTPS everywhere
   â€¢ No SQL injection
   â€¢ JWT tokens secure

âœ… RELIABILITY:
   â€¢ 99.9% uptime
   â€¢ Auto-recovery
   â€¢ Database backups
   â€¢ Error tracking
   â€¢ Audit logs

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
